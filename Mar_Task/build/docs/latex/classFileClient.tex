\hypertarget{classFileClient}{}\doxysection{File\+Client Class Reference}
\label{classFileClient}\index{FileClient@{FileClient}}


TCP-\/клиент для взаимодействия с сервером  




Collaboration diagram for File\+Client\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=142pt]{classFileClient__coll__graph}
\end{center}
\end{figure}
\doxysubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classFileClient_a762279acb57e58c01209e39db4977deb}{File\+Client}} (const std\+::string \&hostname)
\begin{DoxyCompactList}\small\item\em Конструктор клиента для установки соединения с сервером \end{DoxyCompactList}\item 
void \mbox{\hyperlink{classFileClient_a51866dcd0f54724c77f2ac4f6a88285f}{send\+\_\+file}} (const std\+::string \&file\+\_\+path)
\begin{DoxyCompactList}\small\item\em Отправляет содержимое файла на сервер \end{DoxyCompactList}\item 
void \mbox{\hyperlink{classFileClient_ac2e9090822727de157c73b2015d5ecea}{receive\+\_\+file}} (const std\+::string \&save\+\_\+path)
\begin{DoxyCompactList}\small\item\em Принимает файл данных от сервера и сохраняет его на диск \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Static Private Member Functions}
\begin{DoxyCompactItemize}
\item 
static void \mbox{\hyperlink{classFileClient_a446cdd60b6f6cfd89ea26de4ed5d0288}{send\+\_\+all}} (int sock, std\+::string vector)
\begin{DoxyCompactList}\small\item\em Отправка сообщения обратно (обертка над функцией send()) \end{DoxyCompactList}\item 
static void $\ast$ \mbox{\hyperlink{classFileClient_a51dce0b7cc97890009e41f07f7f5cb7b}{get\+\_\+in\+\_\+addr}} (sockaddr $\ast$sa)
\begin{DoxyCompactList}\small\item\em Получает указатель на IP-\/адрес в структуре sockaddr. \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
TCP-\/клиент для взаимодействия с сервером 

Definition at line 126 of file client.\+cpp.



\doxysubsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{classFileClient_a762279acb57e58c01209e39db4977deb}\label{classFileClient_a762279acb57e58c01209e39db4977deb}} 
\index{FileClient@{FileClient}!FileClient@{FileClient}}
\index{FileClient@{FileClient}!FileClient@{FileClient}}
\doxysubsubsection{\texorpdfstring{FileClient()}{FileClient()}}
{\footnotesize\ttfamily File\+Client\+::\+File\+Client (\begin{DoxyParamCaption}\item[{const std\+::string \&}]{hostname }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Конструктор клиента для установки соединения с сервером 

Выполняет следующие действия\+:
\begin{DoxyEnumerate}
\item Получает информацию о сервере через getaddrinfo()
\item Перебирает все возможные адреса сервера
\item Создает сокет и пытается подключиться к серверу
\item Освобождает ресурсы после установки соединения
\end{DoxyEnumerate}


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em hostname} & Имя хоста или IP-\/адрес сервера\\
\hline
\end{DoxyParams}

\begin{DoxyExceptions}{Exceptions}
{\em std\+::runtime\+\_\+error} & в случаях\+:
\begin{DoxyItemize}
\item Ошибки получения адресов сервера (getaddrinfo)
\item Неудачного подключения ко всем доступным адресам 
\end{DoxyItemize}\\
\hline
\end{DoxyExceptions}


Definition at line 143 of file client.\+cpp.



\doxysubsection{Member Function Documentation}
\mbox{\Hypertarget{classFileClient_a51dce0b7cc97890009e41f07f7f5cb7b}\label{classFileClient_a51dce0b7cc97890009e41f07f7f5cb7b}} 
\index{FileClient@{FileClient}!get\_in\_addr@{get\_in\_addr}}
\index{get\_in\_addr@{get\_in\_addr}!FileClient@{FileClient}}
\doxysubsubsection{\texorpdfstring{get\_in\_addr()}{get\_in\_addr()}}
{\footnotesize\ttfamily static void$\ast$ File\+Client\+::get\+\_\+in\+\_\+addr (\begin{DoxyParamCaption}\item[{sockaddr $\ast$}]{sa }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [static]}, {\ttfamily [private]}}



Получает указатель на IP-\/адрес в структуре sockaddr. 

Функция определяет тип адреса (IPv4/\+IPv6) и возвращает указатель на соответствующее поле с IP-\/адресом в унифицированном формате. 
\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em sa} & Указатель на структуру sockaddr (может быть sockaddr\+\_\+in или sockaddr\+\_\+in6) \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Указатель на IP-\/адрес в виде\+:
\begin{DoxyItemize}
\item struct in\+\_\+addr$\ast$ для IPv4 (AF\+\_\+\+INET)
\item struct in6\+\_\+addr$\ast$ для IPv6 (AF\+\_\+\+INET6) 
\end{DoxyItemize}
\end{DoxyReturn}


Definition at line 251 of file client.\+cpp.

\mbox{\Hypertarget{classFileClient_ac2e9090822727de157c73b2015d5ecea}\label{classFileClient_ac2e9090822727de157c73b2015d5ecea}} 
\index{FileClient@{FileClient}!receive\_file@{receive\_file}}
\index{receive\_file@{receive\_file}!FileClient@{FileClient}}
\doxysubsubsection{\texorpdfstring{receive\_file()}{receive\_file()}}
{\footnotesize\ttfamily void File\+Client\+::receive\+\_\+file (\begin{DoxyParamCaption}\item[{const std\+::string \&}]{save\+\_\+path }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Принимает файл данных от сервера и сохраняет его на диск 

Выполняет последовательно\+:
\begin{DoxyEnumerate}
\item Прием данных от сервера чанками фиксированного размера (CHUNK\+\_\+\+SIZE)
\item Конвертацию полученных строковых данных в вектор чисел
\item Сохранение результата в указанный файл
\end{DoxyEnumerate}


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em save\+\_\+path} & Путь для сохранения файла с полученными данными \\
\hline
\end{DoxyParams}


Definition at line 211 of file client.\+cpp.

\mbox{\Hypertarget{classFileClient_a446cdd60b6f6cfd89ea26de4ed5d0288}\label{classFileClient_a446cdd60b6f6cfd89ea26de4ed5d0288}} 
\index{FileClient@{FileClient}!send\_all@{send\_all}}
\index{send\_all@{send\_all}!FileClient@{FileClient}}
\doxysubsubsection{\texorpdfstring{send\_all()}{send\_all()}}
{\footnotesize\ttfamily static void File\+Client\+::send\+\_\+all (\begin{DoxyParamCaption}\item[{int}]{sock,  }\item[{std\+::string}]{vector }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [static]}, {\ttfamily [private]}}



Отправка сообщения обратно (обертка над функцией send()) 


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em sock,vector} & Передаем дескриптор и строку, хранящую координаты точек вершин всех прямоугольников \\
\hline
\end{DoxyParams}


Definition at line 236 of file client.\+cpp.

\mbox{\Hypertarget{classFileClient_a51866dcd0f54724c77f2ac4f6a88285f}\label{classFileClient_a51866dcd0f54724c77f2ac4f6a88285f}} 
\index{FileClient@{FileClient}!send\_file@{send\_file}}
\index{send\_file@{send\_file}!FileClient@{FileClient}}
\doxysubsubsection{\texorpdfstring{send\_file()}{send\_file()}}
{\footnotesize\ttfamily void File\+Client\+::send\+\_\+file (\begin{DoxyParamCaption}\item[{const std\+::string \&}]{file\+\_\+path }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Отправляет содержимое файла на сервер 

Выполняет следующие действия\+:
\begin{DoxyEnumerate}
\item Открывает указанный файл для чтения
\item Читает файл построчно, объединяя строки через пробел
\item Отправляет все данные через сокет
\item Закрывает соединение на запись (SHUT\+\_\+\+WR)
\end{DoxyEnumerate}


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em file\+\_\+path} & Путь к файлу для отправки\\
\hline
\end{DoxyParams}

\begin{DoxyExceptions}{Exceptions}
{\em std\+::runtime\+\_\+error} & в случаях\+:
\begin{DoxyItemize}
\item Невозможности открыть файл
\item Ошибки чтения файла (не достигнут конец файла)
\item Ошибки отправки данных (внутри send\+\_\+all) 
\end{DoxyItemize}\\
\hline
\end{DoxyExceptions}


Definition at line 187 of file client.\+cpp.



The documentation for this class was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
Client/client.\+cpp\end{DoxyCompactItemize}
